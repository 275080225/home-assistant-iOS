osx_image: xcode8.2
language: objective-c
cache:
  - bundler
env:
  global:
    - FASTLANE_SKIP_UPDATE_CHECK=true
    - FASTLANE_XCODE_LIST_TIMEOUT=30
    - secure: MkNoJY9aPhAZYue71lyHDVGGp9Vz8KM2tuo+FpgtTvwRqk6boZejzPcUycGvsbSVd6ihmSB+irSDBbCKehQty2XOcn36lMrc2nDt9TKu7ABX2URqpmfcKPHGtpo+TCOTTc9w1E8HQikRwIYfzSfQAJCU/8/Au0RONmiJbJSEobhVvxDAk6FmuVbZyLSeiXHyHwdtAl7bnx1u9V2dT9BpCVTcp728pzoszjPk0TEhx7WGn5gvB9Mtr0iwq5rHz6PFkNBP7FqEPeIkGIjDc196rAgH7Y+kQgBigeeWK9gfaGsdsJ0AL3rvBIkYUIBlxruIJqjq3KqEbYCX6iws2/LNkRPM+LMSXH1ZQ7YeAUvZJEEx8ZpEWHtZFrIBZSJ9jxwCMGNjmQb6WjpRZVLlKbOjV3IWIjhXujGZN/KsG430gKe7hYgsgdBChotQtMRujFTtnzgFTnTRovSK1dYlxlXyP3O6GiYgINC2bdJokNTPDdf7a9hZJmlrby6F8xBbkbomRWqQoKyoPA0brJFBMXufGsQLufg6EIFPvxsomImW5+Z2vtCBp2JNHaPolZu5b2GQKGXow0zcfpaqMCB3rdDSb3bLZE6BD3DkNuFhnqeCY3tOJ/HWcUobOPFIDGs0OwSa7afLEH+4gPikDuRocGxH3A8gsE/V5/K3WM85cu6Nhco=
    - secure: KWlDwsc+WWm98mGIYRxSfl47CUXZjDG8gLovDt6HM4FKPZULISv4WDIlXd9I7kz2LCdm+07towrpKLL/QCbSFoUA0Ir3ZabbBeG6e6ij/U/X7Ba9vMAqmcpofMztJT3n+XFqiTU1ddxSWE5F07PRGXW/81MPrJ4VXwpokrSTHNakEIHuuV83N0Yp+2N6xpa4DDz6DUqpFNHsf5L4Eiog3nsc4IU4ZxLg52Q5G4iYSqkoUjt9IsaUlUoJ/zkqsojnt5nr4tAaklaUAr1ugMsCPMXjx0NCwdjylXDz12u2fLigde5YIQxvwsqvlosnW0bbJOSIZuxWU7HBrdmYzA/kO8fSvMnI4rJNLB7RKKUwlcTNcrG0xoaBbNt3tM/fSovku8Fi/zW++tcXELcG1/Sv+BJGRxwY0sADgVOhpEQaPFPN/iTxA8ienyyI0sMobRdeBth5n3dOvfCi47BV7EVq+3LvoCQ5+zpXw/v9yKEx23oYC79eoHeJMKWN7GLSm08Znd/ixBvuntPuq1Z9gyPm4tyJS4d55aA9OrLPxiVeAJ+UCl9++SIlCVDiWiSrzISMTxKRxXbYHJM93OsfXRexe5P757encIjebeAxEBNbw12lG7RuobwCnrJElUJbZashQAdZ6aojJPvDlbn4oAd2EbAO6SQRX5EdqOM30LyflTE=
    - secure: UQpJ2HZKNPQs/qmUAxlDv18TFPtFZ3kHi58QWo2HQucaRtHZVDXSJ/zKnMCkIirTIUEjiLlF0yufAnIpy7tiUwtuEF/NR83pSjC9jaCLz4p2fSRQxheOmLC9tm2o6XuFQpCyXP0+aYuj3hoFJJ5D7XOc2uZ848j4CIlG7VyWlm3J8iWJ425AV7pvYZM9tgxSRxIWGwGTxjqoTqLYUbUGkrxb0Y8mxHCunM2ZL/1k03ODJc24UUnlFZlz8Cat1769Ksb16MmnD1pqPWVXxQBzkvb2ITx5JpYzOnJa0y3TGwdfSjn/HeDcmC1KLhAgDGOEKwVWyWn4smxWY4uL2qCw+5Xf9XTmWEDip1D+pjJq9pHU+Se7W9BEnx3VBwSKOnwofUmaUchhZrVP2D1sSWKVaIVt7B8bF1iJiRHNUXZ0d1SFIQsBy6DyVHVTb7RR+PjZ7odEG4kxKwMoJ0DH6qBUFapx1iyITK8mgGdIE0oVmWRvDcA2vl8eqnP/hP1iq3WIsToDG8GOsku2H8iz4B5jwAefPmyEeNkaPHgEHdHvWCcTvxtnN4Ap2tPnsYIm5o0nkkpt9JMlpggfghVTfQXr8XD2F13VupMzs5O9ejk5Wsineiwc3yPvM15HWmrGIn7mCB/YHOM+hdVBOPGuZpHbyssrJS7xnBBWTsUjHC8zA3s=
    - secure: PTVtaVnb2qLofUVztidS70D6ZIAi8vpkJDTYDZHUB1i6J9pgzwUT12NWn9NXw7HJZXnu5wzdW8gy8FNKOiQiEaCM0MSyDTWSB/XBOER69oPE+8riFjax90XTUixAthgXCRx+xEoZZXa/PNFfDzXefTL7jfmtaOX9+wyzgrYcIzObSA8GpwdbZaqEzeLLoJY+Eq94CawbJm+kJksWzmuj2CY9O8A16IY/KjF/I/Wrq0rrRVIfkNdxt9IpQA3f8EoN9E52Z3eZIZsycLzAghhy8P+6y4/xz3WrlIRJsuDUhSm1l017I7aBhELGEVnP+QnRwvsSKObpYMGEvH0pWp62X25yBFJD+hBExWhQfoVG1DFTvkB/m1VfH8iItNJbN9g57rBkeopIqtApgQstLkJxlCfz0DHJ+6jzO03C1u1kaPT8e6sTaPrwENf2YGRc/qksWeukwt2HI8hbCUm1yIt6kCL/a21Nfy76yVLKLMMqtJhggaxzj4AlHIKlWlMO32gYCKJEPFH27XsY1ySRyo1Brm7W8pm++k4j+byyhH+tS+XoxDQNM6zgbs/XXYnKBckBu8wCarKKL3f5UqpSGZMaRsMRwf+9aW7SsKUqw3Sb62iMSEBHgR9R2uw8NOg1tw5qZB+vfx+dA8HeBZCA7SZgyaKeGKbXs11G2aueMQbywp4=
    - secure: a7VXYIRywQj+T+8c/yJw6Nbxf18AKJWAr0tryRzffrvENrARdIolUVB6bMu3mF4YLvMepNPoX+2t+z/wNpHLauMvNiQPhKyMsX2xKvkj5nX4xIdU5D3dUkloQI1z7YuqOj9u1r8PAQsGoflxuHUhpG0av65rCEwCE6ykvUqWdBX2cRpkwQkIda+K+JG8slXRInJO7WFNXB9MYBSgWtoAr/5r1bCKAUOqnaQq2yp52zlMJwjTL8C31E7G+VeKf25fdau5Lzx2XiFdueLfwzER7mZBuRh+fjkRhtNXojy97UE08Shot0RKEgXPgCWaujLG6pOIBib4yi2y5ZL2KN9x5ZIzLXke33cPMZPupCYn1U3VQMiMLu2CCf3vU5l10ruDGZfEytgGlyqZVtF/l+46kCf/Vutgtc7LVLejAltqMPcg4yXhdzqX8TNeLUNW0l2n83i9oq2M9q/zoSr/132bdQIMqt0opso7kuWwsYVl8Jik7cDCaTTt5stZqcq/lLcqf5WlWRdxmyRww3FyyhOIYgLyzjwfY8vLV3wQrVs5kdDXH/RQuIH0SBQf8jna+nOHksD5XvA/0Sb49PTWhkYK0tFymt3pGqxq9U9zIxvauopsFLXY9GSyHCiVXuTGrh8gW4aBqHfcDa2woM0Jbgypk5p77JqlNZJvC3jsY04H5ik=
    - secure: HZGiDHR2upszloUTUQVa6H58Qn1Vr5+wgpk7K4erNPydQIyMK6wAwycrp75UPpN1thIYobW/uo4Ax65PPlXfG7Ppz0YCTd0q0qSyTgB8JmoSWatbrH2ZJ5jXZX2RoQiiHXIcivg9BithG8ZIK2KjhBeF+h8KEHTi3Li1cqUpXBnhBAvk5VTghwZMMb7ckD7hjDEricYEDo5/jjujXXivwOP26yJ7Um42ObqSvhnoHmlUoqi+1lC6AywbuVBROxyuuvpHKNGirTmdaluxjKly5eTVrbKq1qVqjZ2tbW2va8NHLNuvZxRyxF4c2QKKbUyTDdk6N5vvxew+S64+GM60iK9R9VE/elVC1rH2TWOci+E8DhUUgB1xnNnUdTguRu3YX+jrbnwSm6O7t9TSkek7ekomw4xVcVzE7WVUSWC+QCSvqAQj7c5PaXkJNH/iCcN7aSYnNWKA6ce7iNDMvfgEzCRJJ1fo/GTTtn9oCsC2LTyPoPxAe1IuDyzE9nSAN2M3pPV6o2H7IPN9mnJ5v/QoXogktq7eauOcJv4jZ6djTt48IceUanKCpPtS8/JUVk4h/FoDVRo9ly4M+wdzaThyo3KDwuxLDX9B/7+M1ZtutGfLGztIha97OJDE+TI34bbqqH+/4kMICqUQLgGvl5ukKWNZvk3hHkZ2U7yAtwJDSLI=
    - secure: iG1kK+Qh4xCCAozr+c9q7/GjekGN882ENviGLf1lrkqeos+EF4ACjt9hyLDXNfTixAGu015K+VY3q8ruM5lm+tFhqHOzrGbgedjXVH56aWn2KojGBXBVXdXR299tR/G825Paue3Q/CxgGb4Xt5nyrEbQAGY7di+JdN5hT9R63EbBXCCzlTEFGXTPlID3DBRHHSG/gCQoazRMtpl02Y2V07Tw2jkWj+H3d8OhbOht/J70x3S+Cy7E5Xc16mL+pOR1NKptWRGtyjUFmh9pvA/w5FzdYW/NbAHBBKBO8WqMOGms2BY3n2l0pZwt9xCRv/iOtCudk8d0/5TaK0afhfxqZivYBgVz2GMO9qCKjC3cM3b3tyP6mH19V6yS2qTdup3tJfvYnrz+YBT9Qocieh9gqp45mRKGY1QycrkiWM7R2EO4Dr3L2agwFl47n8+OPmk2iDAlWljkUmMrEVmg4cM00LPvtfJfoSAZXl7XbuIpIMOiT5e5iazcfWW2mgZnN+35S4B2LfgGrXkDiprh6Z+MTnXq0cnnVO9nFr8DEHv1YM5+NXO1JhZq01GeN2RBLofrJKxjoOaC0Wl95lgHwxl8BxJjjBmGelmI9HQ5wgdP5W2XasGD/CMz0yxO+t3Ng3eEMzLeYxxYv1ptBRaQQmBXUjV768VlNNNqmm+q+lRZ15k=
    - secure: jH1OTyX5YApOeZMjGNTxkhR+OuRMrlRPy1ED5QElzrQTctRNZdJzLDLZf54OaLEuFbp3sSiP5IIz+xtdrz7scsSamA5cXhjQqEnY3L1y3HRAwbOBv2WiqKBeU5YXK4MJOsDQZd6JwkA08i8OOXB0ZHMAz6TSTSheyOyGp46NW+84SVmL0nVupcF/cNhatxc99QlqbmKaFkscNMTwOcXziEo06ZCtduu6JAIx2ybtqwYg2umd4gDFIsT5saeXKWacfKsUqDaVNoNeIq/4i4vUbUHbg9cRBrBA4GSMpezxTxAAJKVWnKjBp6zT1LW7hqtJ4BxYwi5qQv+oRWzehrwfY0bm7o5WkyxIb9wd3VX7VmZ+g6CAvZ/2NDqcDO2s9xArfVc3vCejvnlEH0O0GW+5wv4+9jnDpwER2QYqVMnjakT2TFQswzQPk3Q2JYRceLTX8HbPwhPMKttyYniDUt4Cx5j3feplk8bHNqZQG3Ur6jZnhsGVu//T+JzwB008FSfY9hT+N5RFp25DrAgrl9R0izty+YdtxCnsfetNEL1Zs1jMP29mo1AMnCCt33h4nWPCDY3dmn+2aG5dPBqN0WUJD4U+LwRNZJJY8Ov4wRNLwPzCgxWvNvPst2qqj0CzNGRznNkY4gDPVkx9y2WkZAjP85WpP3Pt5nk8eF0dx+DSbGk=
    - secure: qJIfQREX3rynUv5pYNTHN8bQrlcjHy5ZOLkwXCht8jsOjwHWiCyYV/H2ZKlANgjfWbejN2NLtogHrr8a32tJOlR9I+nfKeEBjItdoZ3gNndtv+EKj5DbaC9qY0dD7ChGIpyfdQX/0VC0nWgBQqWFRdYUvo/c6jUOQzSXtW//Ea58+adZbEdJdo57R6F2Hqu/DToJiik6Ji2MsTxdnmieueWoeIm2dYgjxasOuDaZ58a9rpjcwGgOj3xPBc3lD+ypXX7VxAgLZrJTu4uwy53PETBgA1P2AKvtf+fI9SBPHn7jlxXN2/Xgzg8yXWmbHQpt7/1TXAe4GApNaNfWGUUrTMU9V8xSwnVESqdXXZZ5WjgBUUInLCpUpKItoyD6nFn+NkTrDPhzyzZ2xAcaasnA+A637wVBeo4ZE18XnLCY95s2TUT7Aa6Pr70nw/JG963MrhdvoSFp5MmmsvKM/0ugop/MM4WUtAvCA4lAOF/sxMJjndyIiDd64ENNFDYCytL5nUeSPI64i4mc6dY8rybtpOEQTHvHjqz/v8ue/XSiH3QFBNZ0dX9sksNf/tUpd6IdEIA+SgJMSh7gdCg1HAUpqx8Sv6QMMbetOUf0yrpZ1yvMZxrjadUJwBhosrT7JZAifajZ2UiDl01PcUgKJ0G/k1OQ7cpnre+Gi3FATWhWdUs=
    - secure: g5DespF12BfHZfgT+L2+XI8LAY1DjwY184Hwe5U1Mz6YQT4jpZz2onhZo5lItooSudSx8/FPbOCCW8rCPkofL9qS+Af8C4svvV951jP0xRjo0bvQHWtKuG3W6sRyvewYB1hDSGs8c2/FI85GNjQ0/4wlFIZ/EWeC154YHRXENIHVbFW3Ql1AvCMHBCe/4hKsTy3zpijkZR2vdpCpGcMO1G0xqbEFXW+VqKjaJnNApQRF8x7+VfzTZPIw1Yd/UWS74ts2dLlZM4sPLm6keZMPQEuDFIaWKdYXmL+KeODWdBLovFih27Xf5xHU3W/mH4B9ZlwTkG3OXq1Se31vnLLszeJ00dY+19Jq2OxwkTwuEM1ShBaPJXdcQCAB/0dZA2v1hiobZWO1CmG0IySU66IIBIzToTMulTAjb5rrG+Ce55LWleLjmKJDY0PPbVAHRmD8STIOjbpRT3RQqsBgcr4xz7eFCmkUT8vvuA824MABqCRsGowDbYGyWYhjWkWuhmjTZ2H/KD36+Bf26w2YjeRiKTVIdI6NTm/tS9T70k7Zr4Zkuyib6lpNdNGH0L4aDoOWagE6uEYb/JJutxSKLyC7ySlyLaatj+ghIK+NK9mO71chXoK4Gs8s5ea1e94Kp6n5p/u+Gc3wpR5q6sK16+uPXayGXQT74Cfz4FWemSlWSHw=
install:
  - bundle install
script:
  - bundle exec fastlane ci
before_install:
  - echo -e "machine github.com\n login $HOMEASSISTANT_CERTIFICATE_USER\n password $HOMEASSISTANT_GITHUB_API_TOKEN" >> ~/.netrc
after_success:
  - sleep 5
notifications:
  webhooks:
    urls:
      secure: Qj/Cxi4GGX5IdhgQgFfKyimFbGRtzVOZi+hdfHp4b1BeA12yRcbiMPCwXKodtxRAvEQ8xCyl17OWyXnCe2O70K4yHR0fEJNzdP11KBC011zUifZ5CuUR0H4XxKQ2PLcIYj4liHVs2mkj6m7Ta4vvjGrQWFGMamtQFe6MKu5pHG/1S0tbfNzzealpwl3jpSXfs8bR1jmgdu5lKL3Ou436D2/ZlfK/rY5sZY30KpuPXk7Up99NwFvZlQNDBaohn/SHIdI5cyKpbUOmRBr7QIDP8eGv/vYzLcgZz6epJ3kaOsFQnWlEikYIBuusbqKr6fG3kjl6eQRuAKDrD8X/jVxtyUInHaCPO452md2HUJA7uHRmdh0t/xe0InbujuHTYwiQBe2XiKObdynp88tUMnbYAxrsrI/vLeGx/49m6+PB0o/OXM6K8pasWY8PUkrf2e1yvkXO23vzF5NSuyn9/EGzZ8EHowG73lT3CHrpzbXBxUH/raTjLSAVrxodsX0pRJnykXZ8qmPUr77QoGU5Wtt5wxjhCDkfofXQEIfGpseqJ2BzeVhd/q6tFK0BTTZnFoQvd+b3eM3srF6rhjF2KodsTRvWLAPWz+eCUF7nacUCDRhwxdpRx2OabA8YIlYr2im3clvqUzWQUx+96K4r/9XmxNSpyuWbBrwJuGU7P8y6N7s=
    on_success: change
    on_failure: always
    on_start: never
